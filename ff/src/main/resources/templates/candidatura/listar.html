<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:insert="~{/fragments/head :: head}"></th:block>

    <!-- DataTables -->

    <link th:href="@{/statics/plugins/datatables/jquery.dataTables.min.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/statics/plugins/datatables/buttons.bootstrap.min.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/statics/plugins/datatables/responsive.bootstrap.min.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/statics/plugins/datatables/scroller.bootstrap.min.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/statics/plugins/datatables/dataTables.colVis.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/statics/plugins/datatables/dataTables.bootstrap.min.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/statics/plugins/datatables/fixedColumns.dataTables.min.css}" rel="stylesheet" type="text/css" />

</head>

<body>

<div id="page-wrapper">

    <!-- Top Bar Start -->
    <th:block th:insert="~{/fragments/topbar :: topbar}"></th:block>
    <!-- Top Bar End -->

    <!-- Page content start -->
    <div class="page-contentbar">
        <!--left navigation start-->
        <th:block th:insert="~{/fragments/sidebar :: sidebar}"></th:block>
        <!--left navigation end-->
        <!-- START PAGE CONTENT -->
        <div id="page-right-content">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <h4 class="m-b-20 header-title">Listar Candidaturas</h4>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <table id="datatable" class="table table-striped table-bordered">
                            <thead>
                            <tr>
                                <th>Candidato</th>
                                <th>Data</th>
                                <th>Vaga</th>
                                <th>Etapa</th>
                                <th>Curriculo</th>
                                <th>Status</th>
                                <th>OpÃ§Ãµes</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="p : ${candidatura}">
                                <td class="align-middle text-center" th:text="${p.usuario.nomeCompleto}"></td>
                                <td class="align-middle text-center" th:text="${#temporals.format(p.data, 'dd/MM/yyyy')}"></td>
                                <td class="align-middle text-center" th:text="${p.vaga.cargo}"></td>
                                <td class="align-middle text-center" th:text="${p.etapaProcesso.etapaProcessoDescricao}"></td>
                                <td class="align-middle text-center" th:text="${p.curriculo.nome}"></td>
                                <td class="align-middle text-center" th:text="${p.status} ? 'Ativo' : 'Inativo' "></td>
                                <td class="align-middle text-center">
                                    <a th:href="@{/candidatura/editar/{id}(id=${p.id})}">
                                        <i class="btn btn-sm btn-primary far fa-edit"></i>
                                    </a>
                                    <a th:href="@{/candidatura/deletar/{id}(id=${p.id})}">
                                        <i class="btn btn-sm btn-danger fas fa-trash-alt"></i>
                                    </a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <div class="text-right m-b-0">
                            <a th:href="@{/candidatura/cadastrar}">
                                <button type="submit" id="btnSubmit"
                                        class="btn btn-primary waves-effect waves-light">
                                    <i class="fa fa-plus"></i>Cadastrar Candidatura
                                </button></a>
                        </div>
                    </div>
                </div>
                <!-- end row -->
            </div>
        </div>
        <!-- end container -->
    </div>
    <!-- End #page-right-content -->
    <!-- begin footer -->
    <th:block th:insert="~{/fragments/footer :: footer}"></th:block>
    <!-- end footer -->

</div>
<!-- end .page-contentbar -->

<!-- End #page-wrapper -->
<th:block th:insert="~{/fragments/footer-scripts :: scripts}"></th:block>

<script src="https://kit.fontawesome.com/2465da788d.js" crossorigin="anonymous"></script>

<!-- Datatable js -->
<script th:src="@{/statics/plugins/datatables/jquery.dataTables.min.js}"></script>
<script th:src="@{/statics/plugins/datatables/dataTables.bootstrap.js}"></script>
<script th:src="@{/statics/plugins/datatables/dataTables.buttons.min.js}"></script>
<script th:src="@{/statics/plugins/datatables/buttons.bootstrap.min.js}"></script>
<script th:src="@{/statics/plugins/datatables/jszip.min.js}"></script>
<script th:src="@{/statics/plugins/datatables/pdfmake.min.js}"></script>
<script th:src="@{/statics/plugins/datatables/vfs_fonts.js}"></script>
<script th:src="@{/statics/plugins/datatables/buttons.html5.min.js}"></script>
<script th:src="@{/statics/plugins/datatables/buttons.print.min.js}"></script>
<script th:src="@{/statics/plugins/datatables/dataTables.keyTable.min.js}"></script>
<script th:src="@{/statics/plugins/datatables/dataTables.responsive.min.js}"></script>
<script th:src="@{/statics/plugins/datatables/responsive.bootstrap.min.js}"></script>
<script th:src="@{/statics/plugins/datatables/dataTables.scroller.min.js}"></script>
<script th:src="@{/statics/plugins/datatables/dataTables.colVis.js}"></script>
<script th:src="@{/statics/plugins/datatables/dataTables.fixedColumns.min.js}"></script>

<!-- init -->
<script th:src="@{/statics/pages/jquery.datatables.init.js}"></script>
</body>

</html>